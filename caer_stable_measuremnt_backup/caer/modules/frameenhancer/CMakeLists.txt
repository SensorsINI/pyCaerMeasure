IF (NOT ENABLE_FRAMEENHANCER)
	SET(ENABLE_FRAMEENHANCER 0 CACHE BOOL "Enable the APS frame enhancing/demosaicing module")
ENDIF()

IF (ENABLE_FRAMEENHANCER)
	# Check for OpenCV FrameUtils header, and conditionally enable extra code if present.
	CHECK_INCLUDE_FILE(libcaer/frame_utils_opencv.h HAVE_FRAME_UTILS_OPENCV)

	IF (HAVE_FRAME_UTILS_OPENCV)
		SET(CAER_COMPILE_DEFINITIONS ${CAER_COMPILE_DEFINITIONS} -DENABLE_FRAMEENHANCER=1 -DENABLE_FRAMEENHANCER_OPENCV=1 PARENT_SCOPE)
	ELSE()
		SET(CAER_COMPILE_DEFINITIONS ${CAER_COMPILE_DEFINITIONS} -DENABLE_FRAMEENHANCER=1 PARENT_SCOPE)
	ENDIF()

	SET(CAER_FREN_FILES modules/frameenhancer/frameenhancer.c)

	SET(CAER_C_SRC_FILES ${CAER_C_SRC_FILES} ${CAER_FREN_FILES} PARENT_SCOPE)
ENDIF()
