IF (NOT DVS128)
	SET(DVS128 0 CACHE BOOL "Enable support for DVS128 devices")
ENDIF()

IF (NOT DAVISFX2)
	SET(DAVISFX2 0 CACHE BOOL "Enable support for DAVIS FX2 devices (DAVIS240A/B/C)")
ENDIF()

IF (NOT DAVISFX3)
	SET(DAVISFX3 0 CACHE BOOL "Enable support for DAVIS FX3 devices (new chips)")
ENDIF()

IF (NOT DVS128 AND NOT DAVISFX2 AND NOT DAVISFX3)
	MESSAGE(SEND_ERROR "Please specify one of the following options to select a supported device: DVS128, DAVISFX2, DAVISFX3.")
	RETURN()
ENDIF()

IF (DVS128)
	SET(CAER_COMPILE_DEFINITIONS ${CAER_COMPILE_DEFINITIONS} -DDVS128=1)

	SET(CAER_DVS128_FILES modules/ini/dvs128.c)

	SET(CAER_C_SRC_FILES ${CAER_C_SRC_FILES} ${CAER_DVS128_FILES})
ENDIF()

IF (DAVISFX2)
	SET(CAER_COMPILE_DEFINITIONS ${CAER_COMPILE_DEFINITIONS} -DDAVISFX2=1)

	SET(CAER_DAVISFX2_FILES modules/ini/davis_common.c modules/ini/davis_fx2.c)

	SET(CAER_C_SRC_FILES ${CAER_C_SRC_FILES} ${CAER_DAVISFX2_FILES})
ENDIF()

IF (DAVISFX3)
	SET(CAER_COMPILE_DEFINITIONS ${CAER_COMPILE_DEFINITIONS} -DDAVISFX3=1)

	SET(CAER_DAVISFX3_FILES modules/ini/davis_common.c modules/ini/davis_fx3.c)

	SET(CAER_C_SRC_FILES ${CAER_C_SRC_FILES} ${CAER_DAVISFX3_FILES})
ENDIF()

# Propagate change to parent scope only once.
SET(CAER_C_SRC_FILES ${CAER_C_SRC_FILES} PARENT_SCOPE)
SET(CAER_COMPILE_DEFINITIONS ${CAER_COMPILE_DEFINITIONS} PARENT_SCOPE)
