IF (NOT ENABLE_FILE_INPUT)
	SET(ENABLE_FILE_INPUT 0 CACHE BOOL "Enable the file input module")
ENDIF()

IF (NOT ENABLE_NETWORK_INPUT)
	SET(ENABLE_NETWORK_INPUT 0 CACHE BOOL "Enable the network input modules (TCP server)")
ENDIF()

IF (ENABLE_FILE_INPUT)
	SET(CAER_COMPILE_DEFINITIONS ${CAER_COMPILE_DEFINITIONS} -DENABLE_FILE_INPUT=1)

	SET(CAER_FILE_INPUT_FILES modules/misc/in/in_file.c)

	SET(CAER_C_SRC_FILES ${CAER_C_SRC_FILES} ${CAER_FILE_INPUT_FILES})
ENDIF()

IF (ENABLE_NETWORK_INPUT)
	SET(CAER_COMPILE_DEFINITIONS ${CAER_COMPILE_DEFINITIONS} -DENABLE_NETWORK_INPUT=1)

	SET(CAER_NETWORK_INPUT_FILES modules/misc/in/in_net_tcp_server.c)

	SET(CAER_C_SRC_FILES ${CAER_C_SRC_FILES} ${CAER_NETWORK_INPUT_FILES})
ENDIF()

# Propagate change to parent scope only once.
SET(CAER_C_SRC_FILES ${CAER_C_SRC_FILES} PARENT_SCOPE)
SET(CAER_COMPILE_DEFINITIONS ${CAER_COMPILE_DEFINITIONS} PARENT_SCOPE)
